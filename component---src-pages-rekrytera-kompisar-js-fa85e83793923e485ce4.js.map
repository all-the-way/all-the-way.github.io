{"version":3,"file":"component---src-pages-rekrytera-kompisar-js-fa85e83793923e485ce4.js","mappings":"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","sources":["webpack://all-the-way-website/./src/components/pages/Recommendations/index.js","webpack://all-the-way-website/./src/components/pages/Recommendations/recommendations.module.css","webpack://all-the-way-website/./src/pages/rekrytera-kompisar.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Button from \"../../common/Button\";\nimport Checkbox from \"../../common/Checkbox\";\nimport Input from \"../../common/Input\";\nimport Panel from \"../../common/Panel\";\nimport Content from \"../../Layout/Content\";\nimport * as styles from \"./recommendations.module.css\";\n\nconst Recommendations = () => {\n  const [memberName, setMemberName] = useState(\"\");\n  const [friendName, setFriendName] = useState(\"\");\n  const [friendPhone, setFriendPhone] = useState(\"\");\n  const [trainingReason, setTrainingReason] = useState(\"\");\n  const [statusMessage, setStatusMessage] = useState(\"\");\n  const [acceptTerms, setAcceptTerms] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const setState = {\n    memberName: setMemberName,\n    friendName: setFriendName,\n    friendPhone: setFriendPhone,\n    trainingReason: setTrainingReason,\n  };\n\n  const handleChange = (e) => {\n    setState[e.target.name](e.target.value);\n  };\n\n  const handleChangeAcceptTerms = (e) => {\n    setAcceptTerms(e.target.checked);\n  };\n\n  const track = () => {\n    if (typeof window !== \"undefined\") {\n      window.dataLayer = window.dataLayer || [];\n      window.dataLayer.push({\n        event: \"form_submission\",\n        formType: \"friends\",\n      });\n    }\n  };\n\n  const postEmail = async () => {\n    if (!friendName || !friendPhone || !memberName || !trainingReason) {\n      setStatusMessage(\"Vänligen fyll i alla fält\");\n      return;\n    }\n\n    if (!acceptTerms) {\n      setStatusMessage(\"Vänligen acceptera våra villkor\");\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await fetch(\n        \"https://all-the-way-backend.azurewebsites.net/api/emails/recruit\",\n        {\n          method: \"post\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            memberName,\n            friendName,\n            friendPhone,\n            trainingReason,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      track();\n\n      setMemberName(\"\");\n      setFriendName(\"\");\n      setFriendPhone(\"\");\n      setTrainingReason(\"\");\n      setStatusMessage(\"\");\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <Content className={styles.content}>\n        <h1>Rekommendera oss till en vän</h1>\n        <Panel\n          firstContent={\n            <div>\n              <h2>\n                Värdecheck <span>online</span>\n              </h2>\n              <p>\n                Vi är oerhört glada att du vill rekommendera oss till din vän.\n              </p>\n              <p style={{ fontSize: 20 }}>\n                Berätta för din vän att vi ringer upp inom 48 timmar.\n              </p>\n            </div>\n          }\n          secondContent={\n            <div>\n              <div>\n                <Input\n                  label=\"Ditt för- och efternamn\"\n                  type=\"text\"\n                  name=\"memberName\"\n                  value={memberName}\n                  onChange={handleChange}\n                />\n              </div>\n\n              <div>\n                <Input\n                  label=\"Vännens för- och efternamn\"\n                  type=\"text\"\n                  name=\"friendName\"\n                  value={friendName}\n                  onChange={handleChange}\n                />\n              </div>\n\n              <div>\n                <Input\n                  label=\"Vännens telefonnummer\"\n                  type=\"phone\"\n                  name=\"friendPhone\"\n                  value={friendPhone}\n                  onChange={handleChange}\n                />\n              </div>\n\n              <div>\n                <Input\n                  label=\"Varför ska din vän träna hos oss?\"\n                  name=\"trainingReason\"\n                  value={trainingReason}\n                  required\n                  type=\"textarea\"\n                  onChange={handleChange}\n                ></Input>\n              </div>\n\n              <div style={{ marginTop: 30 }}>\n                <Checkbox\n                  name=\"acceptTerms\"\n                  onChange={handleChangeAcceptTerms}\n                  value={acceptTerms}\n                  checked={acceptTerms}\n                >\n                  Jag godkänner att mina personuppgifter hanteras enligt GDPR.\n                </Checkbox>\n              </div>\n              <Button name=\"send\" onClick={postEmail} disabled={loading} light>\n                {loading ? (\n                  <i className=\"fas fa-spinner spinning\"></i>\n                ) : (\n                  \"Skicka\"\n                )}\n              </Button>\n              {statusMessage && <div>{statusMessage}</div>}\n            </div>\n          }\n        ></Panel>\n      </Content>\n    </div>\n  );\n};\n\nexport default Recommendations;\n","// extracted by mini-css-extract-plugin\nexport var container = \"recommendations-module--container--B0ER8\";\nexport var content = \"recommendations-module--content--lCsSb\";","import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\nimport Home from \"../components/pages/Home\";\nimport Recommendations from \"../components/pages/Recommendations\";\n\nconst RecruitmentPage = ({ data, location }) => {\n  const siteTitle = data.site.siteMetadata.title;\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <Seo title=\"Rekommendera oss\" />\n      <Recommendations></Recommendations>\n    </Layout>\n  );\n};\n\nexport default RecruitmentPage;\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`;\n"],"names":["useState","memberName","setMemberName","friendName","setFriendName","friendPhone","setFriendPhone","trainingReason","setTrainingReason","statusMessage","setStatusMessage","acceptTerms","setAcceptTerms","loading","setLoading","setState","handleChange","e","target","name","value","postEmail","fetch","method","headers","Accept","body","JSON","stringify","ok","Error","window","dataLayer","push","event","formType","console","log","className","Content","Panel","firstContent","style","fontSize","secondContent","Input","label","type","onChange","required","marginTop","Checkbox","checked","Button","onClick","disabled","light","data","location","siteTitle","site","siteMetadata","title"],"sourceRoot":""}